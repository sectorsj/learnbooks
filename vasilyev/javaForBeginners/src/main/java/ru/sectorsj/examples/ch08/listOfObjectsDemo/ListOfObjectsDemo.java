package ru.sectorsj.examples.ch08.listOfObjectsDemo;

// ����� ��� �������� �������� � �������:
class MyClass{
   // ������������� ����:
   int number;
   // ������ �� ��������� ������ � �������:
   MyClass next;
}
// ������� �����:
class ListOfObjectsDemo{
   // ����������� ����� ��� �������� ������� ��������:
   static MyClass createList(int n){
      // �������� ������� �������:
      MyClass obj=new MyClass();
      // ������������� ���� ������� �������:
      obj.number=1;
      // ������ �� ��������� (� ���� ��� ������������)
      // ������ � �������:
      MyClass t=obj;
      // �������� ������� ��������:
      for(int k=1;k<=n;k++){
         // ��������� ����� ������ � ������ �� ����
         // ������������ � ���� next ���������� (��
         // ������ ������) ������� � �������:
         t.next=new MyClass();
         // ���������� �������� ��������� ���� �����
         // ���������� �������:
         t.next.number=t.number*(n-k+1)/k;
         // ��������� ������ ���������� ��������� ��������
         // � ������� ��������:
         t=t.next;
      }
      // ������ ������ ��� ���� next ����������
      // ������� � �������:
      t.next=null;
      // ��������� ������ - ������ �� ������ ������
      // � �������:
      return obj;
   }
   // ����������� ����� ��� ����������� �������� ��������
   // ����� �������� �� �������:
   static void showList(MyClass obj){
      // ��������� �������� ��������� ����������:
      String txt="| ";
      // ������ �� ������ ������ � �������:
      MyClass t=obj;
      // ���������� � ������ �������� �������� �����:
      do{
         // � ������ ������������ �������� ��������� ����
         // �������, �� ������� ��������� ���������� t:
         txt+=t.number+" | ";
         // ���������� t ��������� �� ��������� ������:
         t=t.next;
      }while(t!=null);
      // ����������� �������� ������������ �������������:
      System.out.println(txt);
   }
   // ������� ����� ���������:
   public static void main(String[] args){
      // �������� ������� ��������:
      MyClass A=createList(5);
      MyClass B=createList(10);
      // ����������� ������������ �������������:
      showList(A);
      showList(B);
   }
}